
# Automating Stock Management with AI and Vector Search

**MIT Course Applied Generative AI for Digital Transformation**  
**Assignment 1.5**

## Description
This project aims to automate the analysis of alcohol stock data using AI and vector search techniques. The primary focus is on data loading and processing, embedding generation, vector search implementation, and AI-based query refinement and interpretation.

## Table of Contents
1. [Colab Notebook](#colab-notebook)
2. [Introduction](#introduction)
3. [Libraries and Initialization](#libraries-and-initialization)
4. [Loading JSON Data](#loading-json-data)
5. [Generating and Saving Embeddings](#generating-and-saving-embeddings)
6. [Creating and Saving FAISS Index](#creating-and-saving-faiss-index)
7. [Embeddings and Indices Management](#embeddings-and-indices-management)
8. [Initializing Vector Stores](#initializing-vector-stores)
9. [AI-based Query Handling](#ai-based-query-handling)
10. [Vector Search Function](#vector-search-function)
11. [Handling User Queries](#handling-user-queries)
12. [Interactive Chat Application](#interactive-chat-application)
13. [Conclusion](#conclusion)
14. [How to Run the Code](#how-to-run-the-code)

## Colab Notebook
You can also run the code in the provided Colab notebook. Click the link below to open the notebook:

[Colab Notebook](https://tinyurl.com/4u3tvztk)

## Introduction
**Objective**: To automate the analysis of alcohol stock data using AI and vector search techniques.

**Key Components**:
- Data loading and processing
- Embedding generation
- Vector search implementation
- AI-based query refinement and interpretation

## Libraries and Initialization
**Key Libraries**:
- `pandas`, `numpy`, `json`, `os`, `logging`
- `faiss`: Vector search
- `sentence_transformers`: Embedding generation
- `llamaapi`: AI-based query handling

**Logging**: Set up logging to monitor the process and debug.

## Loading JSON Data
Load DataFrames generated by `generateDummyData.py`:
- `summarized_stock_data.json`
- `consumption_data.json`
- `orders_data.json`

## Generating and Saving Embeddings
- **Model Initialization**: Using `SentenceTransformer` to generate embeddings.
- **Embeddings Generation**: Create embeddings for stock, consumption, and order data.
- **Saving/Loading Embeddings**: Save and load embeddings to/from disk for efficiency.

## Creating and Saving FAISS Index
- **Index Creation**: Create FAISS indices for the embeddings.
- **Index Saving/Loading**: Save and load indices to/from disk.

## Embeddings and Indices Management
- **Paths for Files**: Define paths for cached embeddings and indices.
- **Generate or Load Embeddings and Indices**: Check if indices exist, if not, create and save them.

## Initializing Vector Stores
Initialize FAISS Vector Stores: Using FAISS indices to initialize vector stores for stock, consumption, and order data.

## AI-based Query Handling
- **Query Refinement and Interpretation Templates**: Define templates for refining queries and interpreting results using AI.

## Vector Search Function
Perform Vector Search: Search the vector store using embeddings and return the most similar results.

## Handling User Queries
Asynchronous Query Handling: Refine and interpret user queries using LlamaAPI.

## Interactive Chat Application
**Chat Function**: Allows users to interactively query the system.

## Conclusion
**Summary**:
- Successfully automated stock management using AI and vector search.
- Efficiently handled user queries about stock levels, consumption, and orders.
- Leveraged embeddings and FAISS for semantic search and AI for query refinement and interpretation.

## How to Run the Code
1. **Install Requirements**:
   Make sure you have `pip` installed. Then, run the following command to install the necessary libraries:

       $pip install -r requirements.txt

2. **Generate Dummy Data**: Run the script to generate the dummy data required for the assistant:

       $python generateDummyData.py

3. **Run the Main Application**: Execute the main script that will use the generated dummy data and perform batch processing:

       $python llama3.1.py
